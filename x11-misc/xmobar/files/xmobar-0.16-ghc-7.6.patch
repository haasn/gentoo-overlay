From 284253dbfd0d40db349731d0eb3f8d1cd786d947 Mon Sep 17 00:00:00 2001
From: nand <nand@lavabit.com>
Date: Sat, 15 Sep 2012 09:25:24 +0200
Subject: [PATCH] GHC 7.6

---
 src/Commands.hs                | 2 +-
 src/Plugins/MBox.hs            | 2 +-
 src/Plugins/Mail.hs            | 2 +-
 src/Plugins/Monitors/Bright.hs | 4 +++-
 src/Plugins/StdinReader.hs     | 2 +-
 src/Window.hs                  | 2 +-
 src/Xmobar.hs                  | 2 +-
 xmobar.cabal                   | 2 +-
 8 files changed, 10 insertions(+), 8 deletions(-)

diff --git a/src/Commands.hs b/src/Commands.hs
index b501022..d3e278a 100644
--- a/src/Commands.hs
+++ b/src/Commands.hs
@@ -23,7 +23,7 @@ module Commands
     , tenthSeconds
     ) where
 
-import Prelude hiding (catch)
+import Prelude
 import Control.Concurrent
 import Control.Exception
 import Data.Char
diff --git a/src/Plugins/MBox.hs b/src/Plugins/MBox.hs
index 65a8bb3..f4d0ac0 100644
--- a/src/Plugins/MBox.hs
+++ b/src/Plugins/MBox.hs
@@ -14,7 +14,7 @@
 
 module Plugins.MBox (MBox(..)) where
 
-import Prelude hiding (catch)
+import Prelude
 import Plugins
 import Plugins.Utils (changeLoop, expandHome)
 
diff --git a/src/Plugins/Mail.hs b/src/Plugins/Mail.hs
index b11b7ad..ca2cb0a 100644
--- a/src/Plugins/Mail.hs
+++ b/src/Plugins/Mail.hs
@@ -14,7 +14,7 @@
 
 module Plugins.Mail where
 
-import Prelude hiding (catch)
+import Prelude
 import Plugins
 import Plugins.Utils (expandHome, changeLoop)
 
diff --git a/src/Plugins/Monitors/Bright.hs b/src/Plugins/Monitors/Bright.hs
index 499e5bc..42ccdac 100644
--- a/src/Plugins/Monitors/Bright.hs
+++ b/src/Plugins/Monitors/Bright.hs
@@ -15,6 +15,7 @@
 module Plugins.Monitors.Bright (brightConfig, runBright) where
 
 import Plugins.Monitors.Common
+import Control.Exception (catch, SomeException(..))
 import qualified Data.ByteString.Lazy.Char8 as B
 import Data.Char
 import System.FilePath ((</>))
@@ -101,7 +102,8 @@ readBright files =
 		maxVal <- grab $ (fMax files)
 		return $ (currVal / maxVal) 
 	where
-		grab f = catch (fmap (read . B.unpack) $ B.readFile f)(\_ -> return 0)
+		grab f = catch (fmap (read . B.unpack) $ B.readFile f)
+				(\(SomeException _) -> return 0)
 
 
 showHorizontalBar :: Float -> Monitor String
diff --git a/src/Plugins/StdinReader.hs b/src/Plugins/StdinReader.hs
index 935d76a..42a0a91 100644
--- a/src/Plugins/StdinReader.hs
+++ b/src/Plugins/StdinReader.hs
@@ -14,7 +14,7 @@
 
 module Plugins.StdinReader where
 
-import Prelude hiding (catch)
+import Prelude
 import System.Posix.Process
 import System.Exit
 import System.IO
diff --git a/src/Window.hs b/src/Window.hs
index 4678046..e9a67cf 100644
--- a/src/Window.hs
+++ b/src/Window.hs
@@ -15,7 +15,7 @@
 
 module Window where
 
-import Prelude hiding (catch)
+import Prelude
 import Control.Monad (when)
 import Graphics.X11.Xlib hiding (textExtents, textWidth)
 import Graphics.X11.Xlib.Extras
diff --git a/src/Xmobar.hs b/src/Xmobar.hs
index f8db6a5..6f567cd 100644
--- a/src/Xmobar.hs
+++ b/src/Xmobar.hs
@@ -29,7 +29,7 @@ module Xmobar
     , drawInWin, printStrings
     ) where
 
-import Prelude hiding (catch)
+import Prelude
 import Graphics.X11.Xlib hiding (textExtents, textWidth)
 import Graphics.X11.Xlib.Extras
 import Graphics.X11.Xinerama
diff --git a/xmobar.cabal b/xmobar.cabal
index 6fa4576..81ea504 100644
--- a/xmobar.cabal
+++ b/xmobar.cabal
@@ -152,7 +152,7 @@ executable xmobar
        cpp-options: -DIWLIB
 
     if flag(with_mpd) || flag(all_extensions)
-       build-depends: libmpd == 0.8.*
+       build-depends: libmpd >= 0.9
        other-modules: Plugins.Monitors.MPD
        cpp-options: -DLIBMPD
 
-- 
1.7.12

